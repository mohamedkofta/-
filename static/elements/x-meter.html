<link rel="import" href="../bower_components/polymer/polymer.html">
<!-- <link rel="import" href="../bower_components/paper-styles/color.html"> -->

<dom-module id="x-meter">
<link rel="import" type="css" href="../css/elements/x-meter.css">
<template>
  <div class="meter" id="meter">
    <div style$="[[_computeStyle(value, max)]]"><span>{{valueFormatted}}</span></div>
  </div>
</template>
<script>
  Polymer({
    is: 'x-meter',

    properties: {
      value: {
        type: Number,
        value: 0,
        notify: true
      },
      valueFormatted: {
        type: Number,
        computed: '_computeFormattedValue(value)'
      },
      /**
       * Normalized, maximum width for the bar
       */
      max: {
        type: Number,
        value: 100
      }
    },

    _computeFormattedValue: function(value, max) {
      return value <= 0.000001 ? '<=0.000001%' : value + '%';
    },
    _computeStyle: function(value, max) {
      return 'width:' + (value * (100 / max)) + '%';
    }
  });
</script>
</dom-module>
